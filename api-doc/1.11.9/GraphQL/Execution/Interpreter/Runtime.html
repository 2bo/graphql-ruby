<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: GraphQL::Execution::Interpreter::Runtime
  
    &mdash; GraphQL Ruby API Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "GraphQL::Execution::Interpreter::Runtime";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Interpreter.html" title="GraphQL::Execution::Interpreter (class)">Interpreter</a></span></span>
     &raquo; 
    <span class="title">Runtime</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: GraphQL::Execution::Interpreter::Runtime
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">GraphQL::Execution::Interpreter::Runtime</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/graphql/execution/interpreter/runtime.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This class is part of a private API.</strong>
  You should avoid using this class if possible, as it may be removed or be changed in the future.
</p>
<p>I think it would be even better if we could somehow make
<code>continue_field</code> not recursive. “Trampolining” it somehow.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="NO_ARGS-constant" class="">NO_ARGS =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="HALT-constant" class="">HALT =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#context-instance_method" title="#context (instance method)">#<strong>context</strong>  &#x21d2; GraphQL::Query::Context </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#query-instance_method" title="#query (instance method)">#<strong>query</strong>  &#x21d2; GraphQL::Query </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#schema-instance_method" title="#schema (instance method)">#<strong>schema</strong>  &#x21d2; Class&lt;GraphQL::Schema&gt; </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_dead_path-instance_method" title="#add_dead_path (instance method)">#<strong>add_dead_path</strong>(path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Mark <code>path</code> as having been permanently nulled out.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_lazy-instance_method" title="#after_lazy (instance method)">#<strong>after_lazy</strong>(lazy_obj, owner:, field:, path:, scoped_context:, owner_object:, arguments:, eager: false, trace: true, &amp;block)  &#x21d2; GraphQL::Execution::Lazy, Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>If loading <code>object</code> will be deferred, it’s a wrapper over it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#arguments-instance_method" title="#arguments (instance method)">#<strong>arguments</strong>(graphql_object, arg_owner, ast_node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#authorized_new-instance_method" title="#authorized_new (instance method)">#<strong>authorized_new</strong>(type, value, context, path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#continue_field-instance_method" title="#continue_field (instance method)">#<strong>continue_field</strong>(path, value, owner_type, field, current_type, ast_node, next_selections, is_non_null, owner_object, arguments)  &#x21d2; Lazy, ... </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The resolver for <code>field</code> returned <code>value</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#continue_value-instance_method" title="#continue_value (instance method)">#<strong>continue_value</strong>(path, value, parent_type, field, is_non_null, ast_node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dead_path%3F-instance_method" title="#dead_path? (instance method)">#<strong>dead_path?</strong>(path)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_interpreter_context-instance_method" title="#delete_interpreter_context (instance method)">#<strong>delete_interpreter_context</strong>(key)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#directives_include%3F-instance_method" title="#directives_include? (instance method)">#<strong>directives_include?</strong>(node, graphql_object, parent_type)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Check <span class='object_link'><a href="../../Schema/Directive.html#include%3F-class_method" title="GraphQL::Schema::Directive.include? (method)">Schema::Directive.include?</a></span> for each directive that’s present.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_selections-instance_method" title="#evaluate_selections (instance method)">#<strong>evaluate_selections</strong>(path, scoped_context, owner_object, owner_type, selections, root_operation_type: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#final_value-instance_method" title="#final_value (instance method)">#<strong>final_value</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gather_selections-instance_method" title="#gather_selections (instance method)">#<strong>gather_selections</strong>(owner_object, owner_type, selections, selections_by_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(query:, response:)  &#x21d2; Runtime </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Runtime.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_type-instance_method" title="#resolve_type (instance method)">#<strong>resolve_type</strong>(type, value, path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_with_directives-instance_method" title="#resolve_with_directives (instance method)">#<strong>resolve_with_directives</strong>(object, ast_node, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_directive-instance_method" title="#run_directive (instance method)">#<strong>run_directive</strong>(object, ast_node, idx, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_eager-instance_method" title="#run_eager (instance method)">#<strong>run_eager</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>This <em>begins</em> the execution.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_all_interpreter_context-instance_method" title="#set_all_interpreter_context (instance method)">#<strong>set_all_interpreter_context</strong>(object, field, arguments, path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_interpreter_context-instance_method" title="#set_interpreter_context (instance method)">#<strong>set_interpreter_context</strong>(key, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Set this pair in the Query context, but also in the interpeter namespace, for compatibility.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_type_at_path-instance_method" title="#set_type_at_path (instance method)">#<strong>set_type_at_path</strong>(path, type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#type_at-instance_method" title="#type_at (instance method)">#<strong>type_at</strong>(path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>To propagate nulls, we have to know what the field type was at previous parts of the response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_execution_errors_in_response-instance_method" title="#write_execution_errors_in_response (instance method)">#<strong>write_execution_errors_in_response</strong>(path, errors)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_in_response-instance_method" title="#write_in_response (instance method)">#<strong>write_in_response</strong>(path, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_invalid_null_in_response-instance_method" title="#write_invalid_null_in_response (instance method)">#<strong>write_invalid_null_in_response</strong>(path, invalid_null_error)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(query:, response:)  &#x21d2; <tt><span class='object_link'><a href="" title="GraphQL::Execution::Interpreter::Runtime (class)">Runtime</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns a new instance of Runtime.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>query:</span><span class='comma'>,</span> <span class='label'>response:</span><span class='rparen'>)</span>
  <span class='ivar'>@query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span>
  <span class='ivar'>@schema</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_schema'>schema</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@interpreter_context</span> <span class='op'>=</span> <span class='ivar'>@context</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span><span class='lparen'>(</span><span class='symbol'>:interpreter</span><span class='rparen'>)</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span>
  <span class='ivar'>@dead_paths</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@types_at_paths</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># A cache of { Class =&gt; { String =&gt; Schema::Field } }
</span>  <span class='comment'># Which assumes that MyObject.get_field(&quot;myField&quot;) will return the same field
</span>  <span class='comment'># during the lifetime of a query
</span>  <span class='ivar'>@fields_cache</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="context-instance_method">
  
    #<strong>context</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Query/Context.html" title="GraphQL::Query::Context (class)">GraphQL::Query::Context</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Query/Context.html" title="GraphQL::Query::Context (class)">GraphQL::Query::Context</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@context</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="query-instance_method">
  
    #<strong>query</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Query.html" title="GraphQL::Query (class)">GraphQL::Query</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Query.html" title="GraphQL::Query (class)">GraphQL::Query</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_query'>query</span>
  <span class='ivar'>@query</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="schema-instance_method">
  
    #<strong>schema</strong>  &#x21d2; <tt>Class&lt;<span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">GraphQL::Schema</a></span>&gt;</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class&lt;<span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">GraphQL::Schema</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_schema'>schema</span>
  <span class='ivar'>@schema</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_dead_path-instance_method">
  
    #<strong>add_dead_path</strong>(path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Mark <code>path</code> as having been permanently nulled out.
No values will be added beyond that path.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


536
537
538
539
540
541
542</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 536</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_dead_path'>add_dead_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dead'>dead</span> <span class='op'>=</span> <span class='ivar'>@dead_paths</span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span>
    <span class='id identifier rubyid_dead'>dead</span> <span class='op'>=</span> <span class='id identifier rubyid_dead'>dead</span><span class='lbracket'>[</span><span class='id identifier rubyid_part'>part</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_dead'>dead</span><span class='lbracket'>[</span><span class='symbol'>:__dead</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after_lazy-instance_method">
  
    #<strong>after_lazy</strong>(lazy_obj, owner:, field:, path:, scoped_context:, owner_object:, arguments:, eager: false, trace: true, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">GraphQL::Execution::Lazy</a></span></tt>, <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns If loading <code>object</code> will be deferred, it’s a wrapper over it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>obj</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Some user-returned value that may want to be batched</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>field</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Schema/Field.html" title="GraphQL::Schema::Field (class)">GraphQL::Schema::Field</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>eager</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set to <code>true</code> for mutation root fields only</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>trace</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If <code>false</code>, don’t wrap this with field tracing</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">GraphQL::Execution::Lazy</a></span></tt>, <tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If loading <code>object</code> will be deferred, it’s a wrapper over it.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 443</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='comma'>,</span> <span class='label'>owner:</span><span class='comma'>,</span> <span class='label'>field:</span><span class='comma'>,</span> <span class='label'>path:</span><span class='comma'>,</span> <span class='label'>scoped_context:</span><span class='comma'>,</span> <span class='label'>owner_object:</span><span class='comma'>,</span> <span class='label'>arguments:</span><span class='comma'>,</span> <span class='label'>eager:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_lazy'>lazy</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lazy.html#initialize-instance_method" title="GraphQL::Execution::Lazy#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span> <span class='op'>=</span> <span class='id identifier rubyid_scoped_context'>scoped_context</span>
      <span class='comment'># Wrap the execution of _this_ method with tracing,
</span>      <span class='comment'># but don&#39;t wrap the continuation below
</span>      <span class='id identifier rubyid_inner_obj'>inner_obj</span> <span class='op'>=</span> <span class='kw'>begin</span>
        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_with_error_handling'>with_error_handling</span> <span class='kw'>do</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_trace'>trace</span>
            <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_trace'>trace</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>execute_field_lazy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>owner:</span> <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
              <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
          <span class='id identifier rubyid_err'>err</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_obj'>inner_obj</span><span class='comma'>,</span> <span class='label'>owner:</span> <span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>scoped_context:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>eager:</span> <span class='id identifier rubyid_eager'>eager</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='id identifier rubyid_trace'>trace</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_eager'>eager</span>
      <span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_lazy'>lazy</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_lazy'>lazy</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_lazy_obj'>lazy_obj</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="arguments-instance_method">
  
    #<strong>arguments</strong>(graphql_object, arg_owner, ast_node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480
481
482
483
484
485
486
487</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 478</span>

<span class='kw'>def</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
  <span class='comment'># Don&#39;t cache arguments if field extras or extensions are requested since they can mutate the argument data structure
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='period'>.</span><span class='id identifier rubyid_arguments_statically_coercible?'>arguments_statically_coercible?</span> <span class='op'>&amp;&amp;</span>
      <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema/Field.html" title="GraphQL::Schema::Field (class)">Field</a></span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='period'>.</span><span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='period'>.</span><span class='id identifier rubyid_extensions'>extensions</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_arguments_for'>arguments_for</span><span class='lparen'>(</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># The arguments must be prepared in the context of the given object
</span>    <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_arguments_for'>arguments_for</span><span class='lparen'>(</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_arg_owner'>arg_owner</span><span class='comma'>,</span> <span class='label'>parent_object:</span> <span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="authorized_new-instance_method">
  
    #<strong>authorized_new</strong>(type, value, context, path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 587</span>

<span class='kw'>def</span> <span class='id identifier rubyid_authorized_new'>authorized_new</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_trace_payload'>trace_payload</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>context:</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_auth_val'>auth_val</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_trace'>trace</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>authorized</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_trace_payload'>trace_payload</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_authorized_new'>authorized_new</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_auth_val'>auth_val</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lazy.html#initialize-instance_method" title="GraphQL::Execution::Lazy#initialize (method)">new</a></span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_trace'>trace</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>authorized_lazy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_trace_payload'>trace_payload</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_auth_val'>auth_val</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_auth_val'>auth_val</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="continue_field-instance_method">
  
    #<strong>continue_field</strong>(path, value, owner_type, field, current_type, ast_node, next_selections, is_non_null, owner_object, arguments)  &#x21d2; <tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The resolver for <code>field</code> returned <code>value</code>. Continue to execute the query,
treating <code>value</code> as <code>type</code> (probably the return type of the field).</p>

<p>Use <code>next_selections</code> to resolve object fields, if there are any.</p>

<p>Location information from <code>path</code> and <code>ast_node</code>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></tt>, <tt>Array</tt>, <tt>Hash</tt>, <tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Lazy, Array, and Hash are all traversed to resolve lazy values later</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 307</span>

<span class='kw'>def</span> <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span> <span class='comment'># rubocop:disable Metrics/ParameterLists
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_kind'>kind</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SCALAR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ENUM</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_coerce_result'>coerce_result</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNION</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERFACE</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_resolved_type_or_lazy'>resolved_type_or_lazy</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_resolved_value'>resolved_value</span> <span class='op'>||=</span> <span class='id identifier rubyid_value'>value</span>

    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type_or_lazy'>resolved_type_or_lazy</span><span class='comma'>,</span> <span class='label'>owner:</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>scoped_context:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='op'>|</span>
      <span class='id identifier rubyid_possible_types'>possible_types</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='lparen'>(</span><span class='id identifier rubyid_current_type'>current_type</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_parent_type'>parent_type</span> <span class='op'>=</span> <span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_owner_type'>owner_type</span>
        <span class='id identifier rubyid_err_class'>err_class</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='op'>::</span><span class='const'>UnresolvedTypeError</span>
        <span class='id identifier rubyid_type_error'>type_error</span> <span class='op'>=</span> <span class='id identifier rubyid_err_class'>err_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_value'>resolved_value</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_possible_types'>possible_types</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_type_error'>type_error</span><span class='lparen'>(</span><span class='id identifier rubyid_type_error'>type_error</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
        <span class='kw'>nil</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OBJECT</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_object_proxy'>object_proxy</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='id identifier rubyid_authorized_new'>authorized_new</span><span class='lparen'>(</span><span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_err'>err</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_object_proxy'>object_proxy</span><span class='comma'>,</span> <span class='label'>owner:</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>scoped_context:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='label'>trace:</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_object'>inner_object</span><span class='op'>|</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_object'>inner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
        <span class='id identifier rubyid_response_hash'>response_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_response_hash'>response_hash</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_evaluate_selections'>evaluate_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_response_hash'>response_hash</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LIST</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_response_list'>response_list</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_response_list'>response_list</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_inner_type'>inner_type</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_of_type'>of_type</span>
    <span class='id identifier rubyid_idx'>idx</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_scoped_context'>scoped_context</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='op'>|</span>
        <span class='id identifier rubyid_next_path'>next_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_next_path'>next_path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_idx'>idx</span>
        <span class='id identifier rubyid_next_path'>next_path</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
        <span class='id identifier rubyid_idx'>idx</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_set_type_at_path'>set_type_at_path</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='rparen'>)</span>
        <span class='comment'># This will update `response_list` with the lazy
</span>        <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_value'>inner_value</span><span class='comma'>,</span> <span class='label'>owner:</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='label'>scoped_context:</span> <span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_inner_value'>inner_inner_value</span><span class='op'>|</span>
          <span class='id identifier rubyid_continue_value'>continue_value</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_inner_value'>inner_inner_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
            <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>NoMethodError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='comment'># Ruby 2.2 doesn&#39;t have NoMethodError#receiver, can&#39;t check that one in this case. (It&#39;s been EOL since 2017.)
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbol'>:each</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:receiver</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_receiver'>receiver</span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>:</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='comment'># This happens when the GraphQL schema doesn&#39;t match the implementation. Help the dev debug.
</span>        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ListResultFailedError.html" title="GraphQL::Execution::Interpreter::ListResultFailedError (class)">ListResultFailedError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ListResultFailedError.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::ListResultFailedError#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>value:</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='comment'># This was some other NoMethodError -- let it bubble to reveal the real error.
</span>        <span class='id identifier rubyid_raise'>raise</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_response_list'>response_list</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NON_NULL</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_inner_type'>inner_type</span> <span class='op'>=</span> <span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_of_type'>of_type</span>
    <span class='comment'># Don&#39;t `set_type_at_path` because we want the static type,
</span>    <span class='comment'># we&#39;re going to use that to determine whether a `nil` should be propagated or not.
</span>    <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_type'>inner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invariant: Unhandled type kind </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_type'>current_type</span><span class='period'>.</span><span class='id identifier rubyid_kind'>kind</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_type'>current_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="continue_value-instance_method">
  
    #<strong>continue_value</strong>(path, value, parent_type, field, is_non_null, ast_node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 261</span>

<span class='kw'>def</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span>
      <span class='id identifier rubyid_err'>err</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='op'>::</span><span class='const'>InvalidNullError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_type'>parent_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_write_invalid_null_in_response'>write_invalid_null_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_err'>err</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_ast_node'>ast_node</span>
    <span class='id identifier rubyid_write_execution_errors_in_response'>write_execution_errors_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_error'>error</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
      <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_ast_node'>ast_node</span>
      <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_list?'>list?</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_write_execution_errors_in_response'>write_execution_errors_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span><span class='rparen'>)</span>
    <span class='comment'># this hook might raise &amp; crash, or it might return
</span>    <span class='comment'># a replacement value
</span>    <span class='id identifier rubyid_next_value'>next_value</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_unauthorized_object'>unauthorized_object</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_err'>err</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_next_value'>next_value</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_is_non_null'>is_non_null</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Execute.html" title="GraphQL::Execution::Execute (class)">Execute</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Execute.html#SKIP-constant" title="GraphQL::Execution::Execute::SKIP (constant)">SKIP</a></span></span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span>
    <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dead_path?-instance_method">
  
    #<strong>dead_path?</strong>(path)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


544
545
546
547
548
549
550
551
552
553
554
555
556</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 544</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dead_path?'>dead_path?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='ivar'>@dead_paths</span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='symbol'>:__dead</span><span class='rbracket'>]</span>
        <span class='kw'>break</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='id identifier rubyid_part'>part</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='symbol'>:__dead</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_interpreter_context-instance_method">
  
    #<strong>delete_interpreter_context</strong>(key)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


565
566
567
568</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 565</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_interpreter_context'>delete_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='ivar'>@interpreter_context</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='ivar'>@context</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="directives_include?-instance_method">
  
    #<strong>directives_include?</strong>(node, graphql_object, parent_type)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Check <span class='object_link'><a href="../../Schema/Directive.html#include%3F-class_method" title="GraphQL::Schema::Directive.include? (method)">Schema::Directive.include?</a></span> for each directive that’s present</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


411
412
413
414
415
416
417
418
419
420</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 411</span>

<span class='kw'>def</span> <span class='id identifier rubyid_directives_include?'>directives_include?</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_type'>parent_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='op'>|</span>
    <span class='id identifier rubyid_dir_defn'>dir_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_type_class'>type_class</span> <span class='op'>||</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only class-based directives are supported (not </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_node'>dir_node</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_keyword_arguments'>keyword_arguments</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_graphql_object'>graphql_object</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_selections-instance_method">
  
    #<strong>evaluate_selections</strong>(path, scoped_context, owner_object, owner_type, selections, root_operation_type: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_selections'>evaluate_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='label'>root_operation_type:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_selections_by_name'>selections_by_name</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result_name'>result_name</span><span class='comma'>,</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span><span class='op'>|</span>
    <span class='comment'># As a performance optimization, the hash key will be a `Node` if
</span>    <span class='comment'># there&#39;s only one selection of the field. But if there are multiple
</span>    <span class='comment'># selections of the field, it will be an Array of nodes
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span>
      <span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>=</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_ast_node'>ast_node</span> <span class='op'>=</span> <span class='id identifier rubyid_field_ast_nodes_or_ast_node'>field_ast_nodes_or_ast_node</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_field_name'>field_name</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_field_defn'>field_defn</span> <span class='op'>=</span> <span class='ivar'>@fields_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_owner_type'>owner_type</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_field_name'>field_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='period'>.</span><span class='id identifier rubyid_get_field'>get_field</span><span class='lparen'>(</span><span class='id identifier rubyid_field_name'>field_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_is_introspection'>is_introspection</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_field_defn'>field_defn</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_owner_type'>owner_type</span> <span class='op'>==</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_entry_point_field'>entry_point_field</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_introspection_system'>introspection_system</span><span class='period'>.</span><span class='id identifier rubyid_entry_point'>entry_point</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_is_introspection'>is_introspection</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_entry_point_field'>entry_point_field</span>
      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_dynamic_field'>dynamic_field</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_introspection_system'>introspection_system</span><span class='period'>.</span><span class='id identifier rubyid_dynamic_field'>dynamic_field</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_is_introspection'>is_introspection</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_dynamic_field'>dynamic_field</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invariant: no field for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_owner_type'>owner_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_name'>field_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_return_type'>return_type</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>

    <span class='id identifier rubyid_next_path'>next_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_next_path'>next_path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_result_name'>result_name</span>
    <span class='id identifier rubyid_next_path'>next_path</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>

    <span class='comment'># This seems janky, but we need to know
</span>    <span class='comment'># the field&#39;s return type at this path in order
</span>    <span class='comment'># to propagate `null`
</span>    <span class='id identifier rubyid_set_type_at_path'>set_type_at_path</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='rparen'>)</span>
    <span class='comment'># Set this before calling `run_with_directives`, so that the directive can have the latest path
</span>    <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span> <span class='op'>=</span> <span class='id identifier rubyid_scoped_context'>scoped_context</span>
    <span class='id identifier rubyid_object'>object</span> <span class='op'>=</span> <span class='id identifier rubyid_owner_object'>owner_object</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_is_introspection'>is_introspection</span>
      <span class='id identifier rubyid_object'>object</span> <span class='op'>=</span> <span class='id identifier rubyid_authorized_new'>authorized_new</span><span class='lparen'>(</span><span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='comma'>,</span> <span class='label'>owner:</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='label'>scoped_context:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='op'>|</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span>
      <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../UnauthorizedError.html" title="GraphQL::UnauthorizedError (class)">UnauthorizedError</a></span></span>
        <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='comment'># We can avoid allocating the `{ Symbol =&gt; Object }` hash in this case
</span>        <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#NO_ARGS-constant" title="GraphQL::Execution::Interpreter::Runtime::NO_ARGS (constant)">NO_ARGS</a></span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span><span class='period'>.</span><span class='id identifier rubyid_keyword_arguments'>keyword_arguments</span>

        <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_extras'>extras</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_extra'>extra</span><span class='op'>|</span>
          <span class='kw'>case</span> <span class='id identifier rubyid_extra'>extra</span>
          <span class='kw'>when</span> <span class='symbol'>:ast_node</span>
            <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='lbracket'>[</span><span class='symbol'>:ast_node</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span>
          <span class='kw'>when</span> <span class='symbol'>:execution_errors</span>
            <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='lbracket'>[</span><span class='symbol'>:execution_errors</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ExecutionErrors.html" title="GraphQL::Execution::Interpreter::ExecutionErrors (class)">ExecutionErrors</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ExecutionErrors.html#initialize-instance_method" title="GraphQL::Execution::Interpreter::ExecutionErrors#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='rparen'>)</span>
          <span class='kw'>when</span> <span class='symbol'>:path</span>
            <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_next_path'>next_path</span>
          <span class='kw'>when</span> <span class='symbol'>:lookahead</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span>
              <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_ast_node'>ast_node</span><span class='rbracket'>]</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='lbracket'>[</span><span class='symbol'>:lookahead</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lookahead.html" title="GraphQL::Execution::Lookahead (class)">Lookahead</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lookahead.html#initialize-instance_method" title="GraphQL::Execution::Lookahead#initialize (method)">new</a></span></span><span class='lparen'>(</span>
              <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span>
              <span class='label'>ast_nodes:</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='comma'>,</span>
              <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span>
            <span class='rparen'>)</span>
          <span class='kw'>when</span> <span class='symbol'>:argument_details</span>
            <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='lbracket'>[</span><span class='symbol'>:argument_details</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_resolved_arguments'>resolved_arguments</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='lbracket'>[</span><span class='id identifier rubyid_extra'>extra</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_fetch_extra'>fetch_extra</span><span class='lparen'>(</span><span class='id identifier rubyid_extra'>extra</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>

      <span class='comment'># Optimize for the case that field is selected only once
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
        <span class='id identifier rubyid_next_selections'>next_selections</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_next_selections'>next_selections</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_field_ast_nodes'>field_ast_nodes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_field_result'>field_result</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_with_directives'>resolve_with_directives</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='comment'># Actually call the field resolver and capture the result
</span>        <span class='id identifier rubyid_app_result'>app_result</span> <span class='op'>=</span> <span class='kw'>begin</span>
          <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_with_error_handling'>with_error_handling</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_trace'>trace</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>execute_field</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>owner:</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
              <span class='id identifier rubyid_field_defn'>field_defn</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ExecutionError.html" title="GraphQL::ExecutionError (class)">ExecutionError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
          <span class='id identifier rubyid_err'>err</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_after_lazy'>after_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_app_result'>app_result</span><span class='comma'>,</span> <span class='label'>owner:</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='label'>scoped_context:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='label'>owner_object:</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='label'>arguments:</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_result'>inner_result</span><span class='op'>|</span>
          <span class='id identifier rubyid_continue_value'>continue_value</span> <span class='op'>=</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_result'>inner_result</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="RawValue.html" title="GraphQL::Execution::Interpreter::RawValue (class)">RawValue</a></span></span> <span class='op'>===</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
            <span class='comment'># Write raw value directly to the response without resolving nested objects
</span>            <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='rparen'>)</span>
          <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="#HALT-constant" title="GraphQL::Execution::Interpreter::Runtime::HALT (constant)">HALT</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_continue_value'>continue_value</span>
            <span class='id identifier rubyid_continue_field'>continue_field</span><span class='lparen'>(</span><span class='id identifier rubyid_next_path'>next_path</span><span class='comma'>,</span> <span class='id identifier rubyid_continue_value'>continue_value</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_field_defn'>field_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_return_type'>return_type</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_next_selections'>next_selections</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_kwarg_arguments'>kwarg_arguments</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='comment'># If this field is a root mutation field, immediately resolve
</span>      <span class='comment'># all of its child fields before moving on to the next root mutation field.
</span>      <span class='comment'># (Subselections of this mutation will still be resolved level-by-level.)
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_root_operation_type'>root_operation_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mutation</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="../Interpreter.html" title="GraphQL::Execution::Interpreter (class)">Interpreter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Resolve.html" title="GraphQL::Execution::Interpreter::Resolve (module)">Resolve</a></span></span><span class='period'>.</span><span class='id identifier rubyid_resolve_all'><span class='object_link'><a href="Resolve.html#resolve_all-class_method" title="GraphQL::Execution::Interpreter::Resolve.resolve_all (method)">resolve_all</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_field_result'>field_result</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_field_result'>field_result</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="final_value-instance_method">
  
    #<strong>final_value</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_final_value'>final_value</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_final_value'>final_value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gather_selections-instance_method">
  
    #<strong>gather_selections</strong>(owner_object, owner_type, selections, selections_by_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_selections'>selections</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
    <span class='comment'># Skip gathering this if the directive says so
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_directives_include?'>directives_include?</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='rparen'>)</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_node'>node</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language.html" title="GraphQL::Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes.html" title="GraphQL::Language::Nodes (module)">Nodes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes/Field.html" title="GraphQL::Language::Nodes::Field (class)">Field</a></span></span>
      <span class='id identifier rubyid_response_key'>response_key</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_alias'>alias</span> <span class='op'>||</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_selections'>selections</span> <span class='op'>=</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_response_key'>response_key</span><span class='rbracket'>]</span>
      <span class='comment'># if there was already a selection of this field,
</span>      <span class='comment'># use an array to hold all selections,
</span>      <span class='comment'># otherise, use the single node to represent the selection
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_selections'>selections</span>
        <span class='comment'># This field was already selected at least once,
</span>        <span class='comment'># add this node to the list of selections
</span>        <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_selections'>selections</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_node'>node</span>
        <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_response_key'>response_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>
      <span class='kw'>else</span>
        <span class='comment'># No selection was found for this field yet
</span>        <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_response_key'>response_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language.html" title="GraphQL::Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes.html" title="GraphQL::Language::Nodes (module)">Nodes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes/InlineFragment.html" title="GraphQL::Language::Nodes::InlineFragment (class)">InlineFragment</a></span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
        <span class='id identifier rubyid_type_defn'>type_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_get_type'>get_type</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
        <span class='comment'># Faster than .map{}.include?()
</span>        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_warden'>warden</span><span class='period'>.</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='lparen'>(</span><span class='id identifier rubyid_type_defn'>type_defn</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='id identifier rubyid_owner_type'>owner_type</span>
            <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='rparen'>)</span>
            <span class='kw'>break</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='comment'># it&#39;s an untyped fragment, definitely continue
</span>        <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language.html" title="GraphQL::Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes.html" title="GraphQL::Language::Nodes (module)">Nodes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Language/Nodes/FragmentSpread.html" title="GraphQL::Language::Nodes::FragmentSpread (class)">FragmentSpread</a></span></span>
      <span class='id identifier rubyid_fragment_def'>fragment_def</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_fragments'>fragments</span><span class='lbracket'>[</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_type_defn'>type_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_get_type'>get_type</span><span class='lparen'>(</span><span class='id identifier rubyid_fragment_def'>fragment_def</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_possible_types'>possible_types</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_warden'>warden</span><span class='period'>.</span><span class='id identifier rubyid_possible_types'>possible_types</span><span class='lparen'>(</span><span class='id identifier rubyid_type_defn'>type_defn</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_possible_types'>possible_types</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='id identifier rubyid_owner_type'>owner_type</span>
          <span class='id identifier rubyid_gather_selections'>gather_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_owner_object'>owner_object</span><span class='comma'>,</span> <span class='id identifier rubyid_owner_type'>owner_type</span><span class='comma'>,</span> <span class='id identifier rubyid_fragment_def'>fragment_def</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='id identifier rubyid_selections_by_name'>selections_by_name</span><span class='rparen'>)</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invariant: unexpected selection class: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> response=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_type-instance_method">
  
    #<strong>resolve_type</strong>(type, value, path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 570</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_trace_payload'>trace_payload</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>context:</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>object:</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='id identifier rubyid_path'>path</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_trace'>trace</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>resolve_type</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_trace_payload'>trace_payload</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_resolve_type'>resolve_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_lazy?'>lazy?</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Execution.html" title="GraphQL::Execution (module)">Execution</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Lazy.html" title="GraphQL::Execution::Lazy (class)">Lazy</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lazy.html#initialize-instance_method" title="GraphQL::Execution::Lazy#initialize (method)">new</a></span></span> <span class='kw'>do</span>
      <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_trace'>trace</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>resolve_type_lazy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_trace_payload'>trace_payload</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_resolved_type'>resolved_type</span><span class='comma'>,</span> <span class='id identifier rubyid_resolved_value'>resolved_value</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve_with_directives-instance_method">
  
    #<strong>resolve_with_directives</strong>(object, ast_node, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


389
390
391
392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 389</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_with_directives'>resolve_with_directives</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_run_directive'>run_directive</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_directive-instance_method">
  
    #<strong>run_directive</strong>(object, ast_node, idx, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400
401
402
403
404
405
406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_directive'>run_directive</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dir_node'>dir_node</span> <span class='op'>=</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dir_node'>dir_node</span>
    <span class='kw'>yield</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_dir_defn'>dir_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Class</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_dir_defn'>dir_defn</span> <span class='op'>=</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_type_class'>type_class</span> <span class='op'>||</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only class-based directives are supported (not `@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir_node'>dir_node</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_dir_args'>dir_args</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_node'>dir_node</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_keyword_arguments'>keyword_arguments</span>
    <span class='id identifier rubyid_dir_defn'>dir_defn</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_dir_args'>dir_args</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_run_directive'>run_directive</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_ast_node'>ast_node</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_eager-instance_method">
  
    #<strong>run_eager</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>This <em>begins</em> the execution. Some deferred work
might be stored up in lazies.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_eager'>run_eager</span>
  <span class='id identifier rubyid_root_operation'>root_operation</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selected_operation'>selected_operation</span>
  <span class='id identifier rubyid_root_op_type'>root_op_type</span> <span class='op'>=</span> <span class='id identifier rubyid_root_operation'>root_operation</span><span class='period'>.</span><span class='id identifier rubyid_operation_type'>operation_type</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>query</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_root_type'>root_type</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_root_type_for_operation'>root_type_for_operation</span><span class='lparen'>(</span><span class='id identifier rubyid_root_op_type'>root_op_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_root_value'>root_value</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_object_proxy'>object_proxy</span> <span class='op'>=</span> <span class='id identifier rubyid_authorized_new'>authorized_new</span><span class='lparen'>(</span><span class='id identifier rubyid_root_type'>root_type</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_root_value'>root_value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_object_proxy'>object_proxy</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_sync_lazy'>sync_lazy</span><span class='lparen'>(</span><span class='id identifier rubyid_object_proxy'>object_proxy</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_object_proxy'>object_proxy</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># Root .authorized? returned false.
</span>    <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_evaluate_selections'>evaluate_selections</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_scoped_context'>scoped_context</span><span class='comma'>,</span> <span class='id identifier rubyid_object_proxy'>object_proxy</span><span class='comma'>,</span> <span class='id identifier rubyid_root_type'>root_type</span><span class='comma'>,</span> <span class='id identifier rubyid_root_operation'>root_operation</span><span class='period'>.</span><span class='id identifier rubyid_selections'>selections</span><span class='comma'>,</span> <span class='label'>root_operation_type:</span> <span class='id identifier rubyid_root_op_type'>root_op_type</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_delete_interpreter_context'>delete_interpreter_context</span><span class='lparen'>(</span><span class='symbol'>:current_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_delete_interpreter_context'>delete_interpreter_context</span><span class='lparen'>(</span><span class='symbol'>:current_field</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_delete_interpreter_context'>delete_interpreter_context</span><span class='lparen'>(</span><span class='symbol'>:current_object</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_delete_interpreter_context'>delete_interpreter_context</span><span class='lparen'>(</span><span class='symbol'>:current_arguments</span><span class='rparen'>)</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_all_interpreter_context-instance_method">
  
    #<strong>set_all_interpreter_context</strong>(object, field, arguments, path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


422
423
424
425
426
427
428
429
430
431
432
433
434
435</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 422</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_all_interpreter_context'>set_all_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_arguments'>arguments</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span>
    <span class='ivar'>@context</span><span class='lbracket'>[</span><span class='symbol'>:current_object</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@interpreter_context</span><span class='lbracket'>[</span><span class='symbol'>:current_object</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_field'>field</span>
    <span class='ivar'>@context</span><span class='lbracket'>[</span><span class='symbol'>:current_field</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@interpreter_context</span><span class='lbracket'>[</span><span class='symbol'>:current_field</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_field'>field</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_arguments'>arguments</span>
    <span class='ivar'>@context</span><span class='lbracket'>[</span><span class='symbol'>:current_arguments</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@interpreter_context</span><span class='lbracket'>[</span><span class='symbol'>:current_arguments</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>
    <span class='ivar'>@context</span><span class='lbracket'>[</span><span class='symbol'>:current_path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@interpreter_context</span><span class='lbracket'>[</span><span class='symbol'>:current_path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_interpreter_context-instance_method">
  
    #<strong>set_interpreter_context</strong>(key, value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Set this pair in the Query context, but also in the interpeter namespace,
for compatibility.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


560
561
562
563</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 560</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_interpreter_context'>set_interpreter_context</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@interpreter_context</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@context</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_type_at_path-instance_method">
  
    #<strong>set_type_at_path</strong>(path, type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


529
530
531
532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 529</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_type_at_path'>set_type_at_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='ivar'>@types_at_paths</span><span class='lbracket'>[</span><span class='id identifier rubyid_path'>path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="type_at-instance_method">
  
    #<strong>type_at</strong>(path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>To propagate nulls, we have to know what the field type was
at previous parts of the response.
This hash matches the response</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


525
526
527</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 525</span>

<span class='kw'>def</span> <span class='id identifier rubyid_type_at'>type_at</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='ivar'>@types_at_paths</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_execution_errors_in_response-instance_method">
  
    #<strong>write_execution_errors_in_response</strong>(path, errors)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


497
498
499
500
501
502
503
504
505</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 497</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_execution_errors_in_response'>write_execution_errors_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dead_path?'>dead_path?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_v'>v</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_add_dead_path'>add_dead_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_in_response-instance_method">
  
    #<strong>write_in_response</strong>(path, value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


507
508
509
510
511
512
513
514
515
516
517
518
519
520</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 507</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dead_path?'>dead_path?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='kw'>return</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_type_at'>type_at</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_non_null?'>non_null?</span>
      <span class='comment'># This nil is invalid, try writing it at the previous spot
</span>      <span class='id identifier rubyid_propagate_path'>propagate_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_propagate_path'>propagate_path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_add_dead_path'>add_dead_path</span><span class='lparen'>(</span><span class='id identifier rubyid_propagate_path'>propagate_path</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_invalid_null_in_response-instance_method">
  
    #<strong>write_invalid_null_in_response</strong>(path, invalid_null_error)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


489
490
491
492
493
494
495</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/execution/interpreter/runtime.rb', line 489</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_invalid_null_in_response'>write_invalid_null_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_invalid_null_error'>invalid_null_error</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_dead_path?'>dead_path?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_type_error'>type_error</span><span class='lparen'>(</span><span class='id identifier rubyid_invalid_null_error'>invalid_null_error</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_write_in_response'>write_in_response</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_add_dead_path'>add_dead_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Nov  1 15:58:02 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.7.4).
</div>

    </div>
  </body>
</html>